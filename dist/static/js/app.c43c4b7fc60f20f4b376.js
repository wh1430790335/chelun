webpackJsonp([9],{"9MiI":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("IvJb"),o={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var a=e("C7Lr")(null,o,!1,function(t){e("9MiI")},null,null).exports,r=e("zO6J");i.a.use(r.a);var s=new r.a({mode:"hash",routes:[{path:"/index",name:"Index",component:function(){return Promise.all([e.e(0),e.e(1)]).then(e.bind(null,"42Hy"))}},{path:"/detail",name:"Detail",component:function(){return Promise.all([e.e(0),e.e(2)]).then(e.bind(null,"wHgX"))}},{path:"/color",component:function(){return e.e(7).then(e.bind(null,"3rbB"))}},{path:"/type",component:function(){return e.e(4).then(e.bind(null,"kMqs"))}},{path:"/img",component:function(){return e.e(6).then(e.bind(null,"b0ui"))}},{path:"/quotation",component:function(){return Promise.all([e.e(0),e.e(3)]).then(e.bind(null,"5gQX"))}},{path:"/login",component:function(){return e.e(5).then(e.bind(null,"xJsL"))}},{path:"*",redirect:"/index"}]});s.beforeEach(function(t,n,e){window.localStorage.getItem("login")||"/login"==t.path||e("/login"),e()}),s.afterEach(function(t,n){console.log("路由跳转...")});var u=s,c=e("9rMa"),l=e("6LYt"),h=e.n(l),f=e("3cXf"),d=e.n(f),m=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};/\?/.test(t)?t+="&_="+ +new Date:t+="?_="+ +new Date;var i={method:n};return"POST"==n&&(i.body=d()(e)),fetch(t,i).then(function(t){return t.json()})},p=/localhost:8080/gi.test(window.location.host)?"http://baojia.chelun.com":"https://baojia.chelun.com",_=function(t){var n="";return t&&(n+="provinceid="+t),m(p+"/v1-city-alllist.html?"+n)},g={namespaced:!0,state:{letters:[],brand:{},letter:"",isShow:!1,brandId:"",makeList:"",isShowList:!1},mutations:{initState:function(t,n){var e=[],i={};n.forEach(function(t){var n=t.Spelling[0];-1!=e.indexOf(n)?i[n].push(t):(e.push(n),i[n]=[t])}),t.letters=e,t.brand=i},changeMakeList:function(t,n){t.brandId=n.id,t.makeList=n.list,t.isShowList=!0},showLetter:function(t,n){t.isShow=n},changeLetter:function(t,n){t.letter=n},hideMakeList:function(t){t.isShowList=!1},showMakeList:function(t){t.isShowList=!0}},actions:{initState:function(t,n){var e=t.commit;console.log("hello"),m(p+"/v2-car-getMasterBrandList.html").then(function(t){console.log("bdoy...",t),1==t.code?e("initState",t.data):alert(t.msg)})},getMakeList:function(t,n){var e,i=t.commit,o=t.state;_hmt.push(["_trackEvent","点击了品牌","tap",n]),n!=o.brandId?(console.log("id...",n),(e=n,m(p+"/v2-car-getMakeListByMasterBrandId.html?MasterID="+e)).then(function(t){console.log("makeList...",t),i("changeMakeList",{id:n,list:t.data})})):o.isShowList||i("showMakeList")}}},w=e("IHPB"),v=e.n(w),y=e("zsLt"),b=e.n(y),L={namespaced:!0,state:{info:{},currentYear:"全部"},getters:{years:function(t){if(!t.info.list)return[];var n=t.info.list.map(function(t){return t.market_attribute.year}),e=new b.a(n);return["全部"].concat(v()(e))},list:function(t){if(!t.info.list)return[];function n(t){var n=[],e={};return console.log("arr..",t),t.forEach(function(t){var i=t.exhaust_str+"/"+t.max_power_str+" "+t.inhale_type;-1==n.indexOf(i)?(n.push(i),e[i]=[t]):e[i].push(t)}),e}return"全部"==t.currentYear?n(t.info.list):n(t.info.list.filter(function(n){return n.market_attribute.year==t.currentYear}))}},mutations:{changeYear:function(t,n){t.currentYear=n},updateInfo:function(t,n){n.list.sort(function(t,n){return n.market_attribute.year!=t.market_attribute.year?n.market_attribute.year-t.market_attribute.year:n.exhaust_str>t.exhaust_str?-1:n.exhaust_str<t.exhaust_str?1:n.max_power_str>t.max_power_str?-1:n.max_power_str<t.max_power_str?1:n.market_attribute.dealer_price_min>t.market_attribute.dealer_price_min?-1:1}),console.log(n.list),t.info=n}},actions:{getDetailList:function(t,n){var e,i=t.commit;(e=n,m(p+"/v2-car-getInfoAndListById.html?SerialID="+e)).then(function(t){console.log("detail list...",t),i("updateInfo",t.data)})}}},k={namespaced:!0,state:{isShowCity:!1,currentCity:"",city:{}},mutations:{showCity:function(t,n){t.isShowCity=n},updateCity:function(t,n){t.city=n,t.isShowCity=!1}}},S={namespaced:!0,state:{locationCity:"",provinces:[],cities:[],isShowCity:!1},mutations:{updateProvinces:function(t,n){t.provinces=n.data},updateCities:function(t,n){t.cities=n.data,t.isShowCity=!0},hideCity:function(t,n){t.isShowCity=!1}},actions:{getCityList:function(t,n){var e=t.commit;console.log(n),n?_(n).then(function(t){e("updateCities",t)}):_().then(function(t){e("updateProvinces",t)})}}};i.a.use(c.a);var x=new c.a.Store({modules:{index:g,detail:L,quotation:k,city:S},plugins:[h()()]});new i.a({el:"#app",router:u,store:x,render:function(t){return t(a)}})}},["NHnr"]);
//# sourceMappingURL=app.c43c4b7fc60f20f4b376.js.map