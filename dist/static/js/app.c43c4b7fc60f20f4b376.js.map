{"version":3,"sources":["webpack:///./src/App.vue?463b","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/api/index.js","webpack:///./src/store/modules/index.js","webpack:///./src/store/modules/detail.js","webpack:///./src/store/modules/quotation.js","webpack:///./src/store/modules/city.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["App","render","_h","this","$createElement","_self","_c","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","vue_esm","use","vue_router_esm","router","mode","routes","path","name","component","Promise","all","e","then","bind","redirect","beforeEach","to","from","next","window","localStorage","getItem","afterEach","console","log","src_router","api_sendRequest","url","method","arguments","length","undefined","body","test","Date","params","stringify_default","fetch","res","json","host","location","api_getCityList","provinceId","search","modules","namespaced","state","letters","brand","letter","isShow","brandId","makeList","isShowList","mutations","initState","payload","forEach","item","spell","Spelling","indexOf","push","changeMakeList","id","list","showLetter","changeLetter","hideMakeList","showMakeList","actions","_ref","commit","code","data","alert","msg","getMakeList","_ref2","_hmt","detail","info","currentYear","getters","years","arr","map","market_attribute","year","set","set_default","a","concat","toConsumableArray_default","merge","types","obj","type","exhaust_str","max_power_str","inhale_type","filter","changeYear","updateInfo","sort","b","dealer_price_min","getDetailList","quotation","isShowCity","currentCity","city","showCity","updateCity","locationCity","provinces","cities","updateProvinces","updateCities","hideCity","getCityList","vuex_esm","store","Store","index","plugins","logger_default","el","h"],"mappings":"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","file":"static/js/app.c43c4b7fc60f20f4b376.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2352068e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2352068e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2352068e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport VueRouter from 'vue-router';\r\n// 引入组件\r\n// import Index from '../components/Index';\r\n// 路由懒加载\r\nconst Index  = ()=>import('../components/Index');\r\nconst Detail  = ()=>import('../components/Detail');\r\nconst Img  = ()=>import('../components/Img');\r\nconst Color  = ()=>import('../components/Color');\r\nconst Type  = ()=>import('../components/Type');\r\nconst Quotation  = ()=>import('../components/Quotation');\r\nconst Login = ()=>import('../components/Login');\r\n// 需要安装插件 cnpm i -D babel-plugin-syntax-dynamic-import\r\n\r\nVue.use(VueRouter);\r\n\r\nconst router = new VueRouter({\r\n    // 两种模式\r\n    mode: 'hash',\r\n    routes: [{\r\n        path: '/index',\r\n        name: 'Index',\r\n        component: Index\r\n    },{\r\n        path: '/detail',\r\n        name: 'Detail',\r\n        component: Detail\r\n    },{\r\n        path: '/color',\r\n        component: Color\r\n    },{\r\n        path: '/type',\r\n        component: Type\r\n    },{\r\n        path: '/img',\r\n        component: Img\r\n    },{\r\n        path: '/quotation',\r\n        component: Quotation\r\n    },{\r\n        path: '/login',\r\n        component: Login\r\n    },{\r\n        path: '*',\r\n        redirect: '/index'\r\n    }]\r\n})\r\n\r\n// 全局导航守卫\r\nrouter.beforeEach((to, from ,next)=>{\r\n    let login = window.localStorage.getItem('login');\r\n    if (!login && to.path != '/login'){\r\n        next('/login');\r\n    }\r\n    next();\r\n})\r\n\r\nrouter.afterEach((to, from)=>{\r\n    console.log('路由跳转...');\r\n})\r\nexport default router;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","const sendRequest = (url, method = 'GET', body = {})=>{\r\n    // 处理url,添加时间戳，保证每次请求不会被缓存\r\n    if (/\\?/.test(url)){\r\n        url += '&_='+(+new Date());\r\n    }else{\r\n        url += '?_='+(+new Date());\r\n    }\r\n    let params = {method};\r\n    // 判断请求是否属于post请求\r\n    if (method == 'POST'){\r\n        params.body = JSON.stringify(body);\r\n    }\r\n    return fetch(url, params).then(res=>res.json());\r\n}\r\nconst host = /localhost:8080/ig.test(window.location.host)?'http://baojia.chelun.com':\r\n            'https://baojia.chelun.com';\r\n\r\n/**\r\n * 获取品牌列表\r\n * @return promise 返回一个promise\r\n */\r\nexport let getBrandList = ()=>{\r\n    return sendRequest(`${host}/v2-car-getMasterBrandList.html`);\r\n}\r\n\r\n/**\r\n * 获取车系列表\r\n * @param id   品牌id\r\n * @return promise 返回一个promise\r\n */\r\nexport let getMakeList = (id)=>{\r\n    return sendRequest(`${host}/v2-car-getMakeListByMasterBrandId.html?MasterID=${id}`)\r\n}\r\n\r\n/**\r\n * 获取车系详情\r\n * @param id   车系id\r\n * @return promise 返回一个promise\r\n */\r\nexport let getDetailList = (id)=>{\r\n    return sendRequest(`${host}/v2-car-getInfoAndListById.html?SerialID=${id}`)\r\n}\r\n\r\n/**\r\n * 获取车系图片分类列表\r\n * @param id   车系id\r\n * @param colorId   颜色id(可选)\r\n * @param carId     车型id(可选)\r\n * @return promise 返回一个promise\r\n */\r\nexport let getImgList = (id, colorId, carId)=>{\r\n    let search = `SerialID=${id}`;\r\n    if (colorId){\r\n        search += `&ColorID=${colorId}`;\r\n    }\r\n    if (carId){\r\n        search += `&CarID=${carId}`;\r\n    }\r\n    return sendRequest(`${host}/v2-car-getImageList.html?${search}`)\r\n}\r\n\r\n/**\r\n * 获取车系具体类型图片列表\r\n * @param id   车系id\r\n * @param imgId 图片类型id\r\n * @param colorId   颜色id(可选)\r\n * @param carId     车型id(可选)\r\n * @param page  当前页码\r\n * @param pageSize 每页列表数量\r\n * @return promise 返回一个promise\r\n */\r\nexport let getImgDetailList = (id, imgId, colorId, carId, page = 1, pageSize = 30)=>{\r\n    let search = `SerialID=${id}&ImageID=${imgId}&Page=${page}&PageSize=${pageSize}`;\r\n    if (colorId){\r\n        search += `&ColorID=${colorId}`;\r\n    }\r\n    if (carId){\r\n        search += `&CarID=${carId}`;\r\n    }\r\n    return sendRequest(`${host}/v2-car-getCategoryImageList.html?${search}`)\r\n}\r\n\r\n/**\r\n * 获取车系颜色分类\r\n * @param id   车系id\r\n * @return promise 返回一个promise\r\n */\r\nexport let getColorList = (id)=>{\r\n    return sendRequest(`${host}/v2-car-getModelImageYearColor.html?SerialID=${id}`)\r\n}\r\n\r\n/**\r\n * 获取城市列表(如果传省份id返回城市列表，如果不传返回省份列表)\r\n * @param provinceId   省份id\r\n * @return promise 返回一个promise\r\n */\r\nexport let getCityList = (provinceId)=>{\r\n    let search = ``;\r\n    if (provinceId){\r\n        search += `provinceid=${provinceId}`;\r\n    }\r\n    return sendRequest(`${host}/v1-city-alllist.html?${search}`)\r\n}\r\n\r\n/**\r\n * 获取经销商列表\r\n * @param carId     车型id\r\n * @param cityId    城市id\r\n * @return promise 返回一个promise\r\n */\r\nexport let getDealerList = (carId, cityId)=>{\r\n    return sendRequest(`${host}/v2-dealer-alllist.html?carId=${carId}&cityId=${cityId}`)\r\n}\r\n\r\n/**\r\n * 询问报价\r\n * @param carId         车型id\r\n * @param mobile        用户手机号\r\n * @param dealerIds     经销商id列表\r\n * @param location      用户所在城市\r\n * @param carname       选择车型的名字\r\n * @param locationid    用户所在城市id\r\n * @param name          用户的姓名\r\n * @param openUDID      设备号\r\n * @param flag          默认值1\r\n * @param orderTypeId   默认值1\r\n * @param channelId     默认值0\r\n * @return promise      返回一个pomise\r\n */\r\nexport let submit = (info)=>{\r\n    let search = ``;\r\n    for (let item in info){\r\n        search += `&${item}=${info[item]}`;\r\n    }\r\n    search[0] = '?'\r\n    return sendRequest(`${host}/h2-submit-lowprice.html${search}`);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","import {getBrandList, getMakeList} from '../../api/index';\r\n\r\nlet state = {\r\n    letters: [],    // 匹配字母列表\r\n    brand: {},      // 品牌列表\r\n    letter: '',     // 当前选中的品牌字母\r\n    isShow: false,  // 是否显示字母弹框\r\n    brandId: '',     // 品牌id\r\n    makeList: '',    // 车系列表\r\n    isShowList: false   //是否显示车系\r\n}\r\n\r\nlet mutations = {\r\n    initState: (state, payload)=>{\r\n        // 把车型数据处理一下\r\n        let letters = [];\r\n        let brand = {};\r\n        payload.forEach((item)=>{\r\n            let spell = item.Spelling[0];\r\n            // 判断这个字母是否在前面出现过\r\n            if (letters.indexOf(spell) != -1){\r\n                // 只要把数据放到brand里\r\n                brand[spell].push(item);\r\n            }else{\r\n                // 把新字母放到letters列表\r\n                letters.push(spell);\r\n                // 在brand里新建一项并赋值为一个数组\r\n                brand[spell] = [item];\r\n            }\r\n        });\r\n\r\n        state.letters = letters;\r\n        state.brand = brand;\r\n    },\r\n    // 显示车系数据\r\n    changeMakeList: (state, payload)=>{\r\n        state.brandId = payload.id;\r\n        state.makeList = payload.list;\r\n        state.isShowList = true;\r\n    },\r\n    // 控制字母的显示和隐藏\r\n    showLetter: (state, payload)=>{\r\n        state.isShow = payload;\r\n    },\r\n    // 该变letter\r\n    changeLetter: (state, payload)=>{\r\n        state.letter = payload;\r\n    },\r\n    // 隐藏车系数据\r\n    hideMakeList: (state)=>{\r\n        state.isShowList = false;\r\n    },\r\n    // 显示车系数据\r\n    showMakeList: (state)=>{\r\n        state.isShowList = true;\r\n    }\r\n}\r\n\r\nlet actions = {\r\n    initState: ({commit}, payload)=>{\r\n        console.log('hello');\r\n        getBrandList().then(body=>{\r\n            console.log('bdoy...', body);\r\n            if (body.code == 1){\r\n                commit('initState', body.data);\r\n            }else{\r\n                alert(body.msg);\r\n            }\r\n        })\r\n    },\r\n    getMakeList: ({commit, state}, payload)=>{\r\n        // 单点统计的代码\r\n        _hmt.push(['_trackEvent', '点击了品牌', 'tap', payload]);\r\n        if (payload != state.brandId){\r\n            console.log('id...', payload);\r\n            getMakeList(payload).then(body=>{\r\n                console.log('makeList...', body);\r\n                commit('changeMakeList', {\r\n                    id: payload,\r\n                    list: body.data\r\n                })\r\n            })\r\n        }else if (!state.isShowList){\r\n            commit('showMakeList');\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    mutations,\r\n    actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/index.js","import {getDetailList} from '../../api/index';\r\n\r\nlet state = {\r\n    info: {},   // 所有详情数据\r\n    currentYear: '全部' // 当前选中的年份\r\n}\r\nlet getters = {\r\n    years(state){\r\n        if (!state.info.list){\r\n            return [];\r\n        }\r\n        let arr = state.info.list.map(item=>{\r\n            return item.market_attribute.year;\r\n        })\r\n        let set = new Set(arr);\r\n        return ['全部',...set];\r\n    },\r\n    list(state){\r\n        if (!state.info.list){\r\n            return [];\r\n        }\r\n        // 把排量和吸气类型相同的数据做个合并\r\n        function merge(arr){\r\n            let types = [];\r\n            let obj = {};\r\n            console.log('arr..', arr);\r\n            arr.forEach(item=>{\r\n                let type = item.exhaust_str+'/'+item.max_power_str+' '+item.inhale_type;\r\n                if (types.indexOf(type) == -1){\r\n                    types.push(type);\r\n                    obj[type] = [item];\r\n                }else{\r\n                    obj[type].push(item);\r\n                }\r\n            })\r\n            return obj;\r\n        }\r\n\r\n        if (state.currentYear == '全部'){\r\n            return merge(state.info.list)\r\n        }else{\r\n            return merge(state.info.list.filter(item=>{\r\n                return item.market_attribute.year == state.currentYear;\r\n            }))\r\n        }\r\n    }\r\n}\r\nlet mutations = {\r\n    // 改变年份\r\n    changeYear(state, payload){\r\n        state.currentYear = payload;\r\n    },\r\n    // 拿到数据，处理数据，按照一定规则排序\r\n    updateInfo(state, payload){\r\n        // 车型数据排序\r\n        payload.list.sort((a, b)=>{\r\n            // 先按照年份排序 降序,\r\n            if (b.market_attribute.year != a.market_attribute.year){\r\n                return b.market_attribute.year - a.market_attribute.year;\r\n            }else{\r\n                // 按照排量排序 升序\r\n                if (b.exhaust_str > a.exhaust_str){\r\n                    return -1;\r\n                }else if(b.exhaust_str < a.exhaust_str){\r\n                    return 1;\r\n                }else{\r\n                    // 按照功率排序 升序\r\n                    if (b.max_power_str > a.max_power_str){\r\n                        return -1;\r\n                    }else if(b.max_power_str < a.max_power_str){\r\n                        return 1;\r\n                    }else{\r\n                        // 按照指导价格排序 升序\r\n                        if (b.market_attribute.dealer_price_min > a.market_attribute.dealer_price_min){\r\n                            return -1;\r\n                        }else{\r\n                            return 1\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        console.log(payload.list);\r\n        state.info = payload;\r\n    }\r\n}\r\n\r\nlet actions = {\r\n    getDetailList({commit}, payload){\r\n        getDetailList(payload)\r\n        .then(body=>{\r\n            console.log('detail list...', body);\r\n            commit('updateInfo', body.data);\r\n        })\r\n    }\r\n}\r\n\r\nexport default{\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    mutations,\r\n    actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/detail.js","let state = {\r\n    isShowCity: false,\r\n    currentCity: '',\r\n    city: {}    // 当前选中城市信息\r\n}\r\n\r\nlet mutations = {\r\n    showCity(state, payload){\r\n        state.isShowCity = payload;\r\n    },\r\n    updateCity(state, payload){\r\n        state.city = payload;\r\n        state.isShowCity = false;\r\n    }\r\n}\r\n\r\nexport default{\r\n    namespaced: true,\r\n    state,\r\n    mutations\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/quotation.js","import {getCityList} from '../../api';\r\n\r\nlet state = {\r\n    locationCity: '',\r\n    provinces: [],\r\n    cities: [],\r\n    isShowCity: false\r\n}\r\n\r\nlet mutations = {\r\n    updateProvinces(state, payload){\r\n        state.provinces = payload.data;\r\n    },\r\n    updateCities(state, payload){\r\n        state.cities = payload.data;\r\n        state.isShowCity = true;\r\n    },\r\n    hideCity(state, payload){\r\n        state.isShowCity = false;\r\n    }\r\n}\r\n\r\nlet actions = {\r\n    getCityList({commit}, payload){\r\n        console.log(payload);\r\n        if (payload){\r\n            // 如果payload有数据，获取城市列表\r\n            getCityList(payload)\r\n            .then(body=>{\r\n                commit('updateCities', body);\r\n            })\r\n        }else{\r\n            // 如果payload没有数据，获取省份列表\r\n            getCityList()\r\n            .then(body=>{\r\n                commit('updateProvinces', body);\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default{\r\n    namespaced: true,\r\n    state,\r\n    mutations,\r\n    actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/city.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport createLogger from 'vuex/dist/logger';\r\n\r\n// 引入modules\r\nimport index from './modules/index';\r\nimport detail from './modules/detail';\r\nimport quotation from './modules/quotation';\r\nimport city from './modules/city';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    modules: {\r\n        index,\r\n        detail,\r\n        quotation,\r\n        city\r\n    },\r\n    plugins: [createLogger()]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\r\nimport App from './App.vue'\r\n// 引入路由\r\nimport router from './router';\r\n// 引入vuex\r\nimport store from './store';\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}